"use strict";var e=require("react"),r=require("@nivo/core"),o=require("@nivo/arcs"),i=require("@nivo/tooltip"),t=require("react/jsx-runtime"),n=require("d3-hierarchy"),a=require("lodash/cloneDeep.js"),s=require("lodash/sortBy.js"),l=require("@nivo/theming"),d=require("@nivo/colors");function u(){return u=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var i in o)({}).hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},u.apply(null,arguments)}function c(e,r){if(null==e)return{};var o={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==r.indexOf(i))continue;o[i]=e[i]}return o}var v={id:"id",value:"value",cornerRadius:0,layers:["arcs","arcLabels"],colors:{scheme:"nivo"},colorBy:"id",inheritColorFromParent:!0,childColor:{from:"color"},borderWidth:1,borderColor:"white",enableArcLabels:!1,arcLabel:"formattedValue",arcLabelsRadiusOffset:.5,arcLabelsSkipAngle:0,arcLabelsSkipRadius:0,arcLabelsTextColor:{theme:"labels.text.fill"},animate:!0,motionConfig:"gentle",transitionMode:"innerRadius",isInteractive:!0,defs:[],fill:[],tooltip:function(e){var r=e.id,o=e.formattedValue,n=e.color;return t.jsx(i.BasicTooltip,{id:r,value:o,enableChip:!0,color:n})},role:"img"},f=function(i){var t=i.data,u=i.id,c=void 0===u?v.id:u,f=i.value,h=void 0===f?v.value:f,p=i.valueFormat,m=i.radius,b=i.cornerRadius,C=void 0===b?v.cornerRadius:b,g=i.colors,M=void 0===g?v.colors:g,L=i.colorBy,R=void 0===L?v.colorBy:L,x=i.inheritColorFromParent,y=void 0===x?v.inheritColorFromParent:x,W=i.childColor,j=void 0===W?v.childColor:W,A=l.useTheme(),F=d.useOrdinalColorScale(M,R),k=d.useInheritedColor(j,A),q=r.usePropertyAccessor(c),w=r.usePropertyAccessor(h),I=r.useValueFormatter(p),P=e.useMemo((function(){var e,r=a(t),o=n.hierarchy(r).sum(w),i=n.partition().size([2*Math.PI,m*m])(o).descendants().slice(1),l=null!=(e=o.value)?e:0;return s(i,"depth").reduce((function(e,r){var o,i=q(r.data),t=r.value,n=100*t/l,a=r.ancestors().map((function(e){return q(e.data)})),s={startAngle:r.x0,endAngle:r.x1,innerRadius:Math.sqrt(r.y0),outerRadius:Math.sqrt(r.y1)};r.parent&&(o=e.find((function(e){return e.id===q(r.parent.data)})));var d={id:i,path:a,value:t,percentage:n,formattedValue:p?I(t):n.toFixed(2)+"%",color:"",arc:s,data:r.data,depth:r.depth,height:r.height};return y&&o&&d.depth>1?d.color=k(o,d):d.color=F(d),[].concat(e,[d])}),[])}),[t,m,w,q,p,I,F,y,k]);return{arcGenerator:o.useArcGenerator({cornerRadius:C}),nodes:P}},h=function(r){var o=r.nodes,i=r.arcGenerator,t=r.centerX,n=r.centerY,a=r.radius;return e.useMemo((function(){return{nodes:o,arcGenerator:i,centerX:t,centerY:n,radius:a}}),[o,i,t,n,a])},p=function(r){var n=r.center,a=r.data,s=r.arcGenerator,l=r.borderWidth,d=r.borderColor,u=r.isInteractive,c=r.onClick,v=r.onMouseEnter,f=r.onMouseMove,h=r.onMouseLeave,p=r.tooltip,m=r.transitionMode,b=i.useTooltip(),C=b.showTooltipFromEvent,g=b.hideTooltip,M=e.useMemo((function(){if(u)return function(e,r){null==c||c(e,r)}}),[u,c]),L=e.useMemo((function(){if(u)return function(r,o){C(e.createElement(p,r),o),null==v||v(r,o)}}),[u,C,p,v]),R=e.useMemo((function(){if(u)return function(r,o){C(e.createElement(p,r),o),null==f||f(r,o)}}),[u,C,p,f]),x=e.useMemo((function(){if(u)return function(e,r){g(),null==h||h(e,r)}}),[u,g,h]);return t.jsx(o.ArcsLayer,{center:n,data:a,arcGenerator:s,borderWidth:l,borderColor:d,transitionMode:m,onClick:M,onMouseEnter:L,onMouseMove:R,onMouseLeave:x})},m=["isInteractive","animate","motionConfig","theme","renderWrapper"],b=function(i){var n=i.data,a=i.id,s=void 0===a?v.id:a,l=i.value,d=void 0===l?v.value:l,u=i.valueFormat,c=i.cornerRadius,m=void 0===c?v.cornerRadius:c,b=i.layers,C=void 0===b?v.layers:b,g=i.colors,M=void 0===g?v.colors:g,L=i.colorBy,R=void 0===L?v.colorBy:L,x=i.inheritColorFromParent,y=void 0===x?v.inheritColorFromParent:x,W=i.childColor,j=void 0===W?v.childColor:W,A=i.borderWidth,F=void 0===A?v.borderWidth:A,k=i.borderColor,q=void 0===k?v.borderColor:k,w=i.margin,I=i.width,P=i.height,S=i.enableArcLabels,O=void 0===S?v.enableArcLabels:S,G=i.arcLabel,B=void 0===G?v.arcLabel:G,E=i.arcLabelsRadiusOffset,T=void 0===E?v.arcLabelsRadiusOffset:E,z=i.arcLabelsSkipAngle,H=void 0===z?v.arcLabelsSkipAngle:z,X=i.arcLabelsSkipRadius,Y=void 0===X?v.arcLabelsSkipRadius:X,V=i.arcLabelsTextColor,D=void 0===V?v.arcLabelsTextColor:V,K=i.arcLabelsComponent,J=i.defs,N=void 0===J?v.defs:J,Q=i.fill,U=void 0===Q?v.fill:Q,Z=i.transitionMode,$=void 0===Z?v.transitionMode:Z,_=i.isInteractive,ee=void 0===_?v.isInteractive:_,re=i.onClick,oe=i.onMouseEnter,ie=i.onMouseLeave,te=i.onMouseMove,ne=i.tooltip,ae=void 0===ne?v.tooltip:ne,se=i.role,le=void 0===se?v.role:se,de=i.forwardedRef,ue=r.useDimensions(I,P,w),ce=ue.innerHeight,ve=ue.innerWidth,fe=ue.margin,he=ue.outerHeight,pe=ue.outerWidth,me=e.useMemo((function(){return{radius:Math.min(ve,ce)/2,centerX:ve/2,centerY:ce/2}}),[ce,ve]),be=me.centerX,Ce=me.centerY,ge=me.radius,Me=f({data:n,id:s,value:d,valueFormat:u,radius:ge,cornerRadius:m,colors:M,colorBy:R,inheritColorFromParent:y,childColor:j}),Le=Me.arcGenerator,Re=Me.nodes,xe=r.bindDefs(N,Re,U,{colorKey:"color",targetKey:"fill"}),ye={arcs:null,arcLabels:null};C.includes("arcs")&&(ye.arcs=t.jsx(p,{center:[be,Ce],data:Re,arcGenerator:Le,borderWidth:F,borderColor:q,transitionMode:$,isInteractive:ee,tooltip:ae,onClick:re,onMouseEnter:oe,onMouseLeave:ie,onMouseMove:te},"arcs")),O&&C.includes("arcLabels")&&(ye.arcLabels=t.jsx(o.ArcLabelsLayer,{center:[be,Ce],data:Re,label:B,radiusOffset:T,skipAngle:H,skipRadius:Y,textColor:D,transitionMode:$,component:K},"arcLabels"));var We=h({nodes:Re,arcGenerator:Le,centerX:be,centerY:Ce,radius:ge});return t.jsx(r.SvgWrapper,{width:pe,height:he,defs:xe,margin:fe,role:le,ref:de,children:C.map((function(r,o){return void 0!==ye[r]?ye[r]:"function"==typeof r?t.jsx(e.Fragment,{children:e.createElement(r,We)},o):null}))})},C=e.forwardRef((function(e,o){var i=e.isInteractive,n=void 0===i?v.isInteractive:i,a=e.animate,s=void 0===a?v.animate:a,l=e.motionConfig,d=void 0===l?v.motionConfig:l,f=e.theme,h=e.renderWrapper,p=c(e,m);return t.jsx(r.Container,{isInteractive:n,animate:s,motionConfig:d,theme:f,renderWrapper:h,children:t.jsx(b,u({},p,{isInteractive:n,forwardedRef:o}))})})),g=["defaultWidth","defaultHeight","onResize","debounceResize"],M=e.forwardRef((function(e,o){var i=e.defaultWidth,n=e.defaultHeight,a=e.onResize,s=e.debounceResize,l=c(e,g);return t.jsx(r.ResponsiveWrapper,{defaultWidth:i,defaultHeight:n,onResize:a,debounceResize:s,children:function(e){var r=e.width,i=e.height;return t.jsx(C,u({},l,{width:r,height:i,ref:o}))}})}));exports.ResponsiveSunburst=M,exports.Sunburst=C,exports.defaultProps=v,exports.useSunburst=f,exports.useSunburstLayerContext=h;
//# sourceMappingURL=nivo-sunburst.cjs.js.map
